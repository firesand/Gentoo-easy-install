# QEMU Configuration for Booting Installed Gentoo System
# This file contains the exact QEMU command line arguments
# Copy and paste these arguments to qemu-system-x86_64

# Basic VM Configuration
-name "Gentoo_TUI"
-m "16G"
-smp "8"
-cpu host
-enable-kvm
-machine type=q35,accel=kvm

# Graphics
-vga virtio
-display gtk

# Storage - Boot from existing installed system (NOT from ISO)
-drive file="/home/edo/vm-disks/Gentoo_TUI.qcow2",if=virtio,cache=writeback,discard=unmap

# Network - User networking with SSH port forwarding
-netdev user,id=net0,net=10.0.2.0/24,host=10.0.2.1,dhcpstart=10.0.2.15,hostfwd=tcp::2223-:22
-device virtio-net-pci,netdev=net0

# Shared folder
-virtfs local,path="/home/edo/vm-shared/Gentoo_TUI",mount_tag=shared,security_model=mapped

# Additional devices for better experience
-device virtio-serial-pci
-device virtserialport,chardev=spicechannel0,name=com.redhat.spice.0
-chardev spicevmc,id=spicechannel0,name=vdagent
-usb
-device usb-tablet
-device intel-hda
-device hda-duplex
-device virtio-balloon
-device virtio-rng-pci
-rtc base=utc
-no-reboot
-no-shutdown

# IMPORTANT: Boot from disk (not ISO)
-boot c

# Usage:
# qemu-system-x86_64 [copy all arguments above]
# 
# Or use the script:
# ./boot-installed-gentoo.sh
